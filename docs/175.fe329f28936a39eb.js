"use strict";(self.webpackChunkFrech_Cart=self.webpackChunkFrech_Cart||[]).push([[175],{175:(B,f,u)=>{u.r(f),u.d(f,{SettingModule:()=>X});var m=u(6814),d=u(7163),t=u(4769),c=u(3750);let _=(()=>{class e{constructor(r){this._AuthService=r,this.isloadingPage=!1}ngOnInit(){this.myId=this._AuthService.userData.getValue(),this.isloadingPage=!0,this._AuthService.getUserData(this.myId.id).subscribe({next:r=>{this.myData=r.data,this.isloadingPage=!1},error:r=>{this.isloadingPage=!1}})}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(c.e))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-portflio"]],decls:19,vars:2,consts:[[1,"container","py-5"],[1,"row","g-4","align-items-start"],[1,"col-md-4","my-name-icon","d-flex","justify-content-center","align-items-center","my-portflio-bg","rounded-3"],[1,"d-flex","flex-column","align-items-center","justify-content-center","py-5"],[1,"nav-item","d-flex","justify-content-center","align-items-center","cursor-pointer","my-profile","mx-2"],[1,"fw-bold","my-char"],[1,"h4","fw-bolder","py-2","border-bottom","border-1","border-black"],[1,"mt-3","d-flex","flex-column","justify-content-center","align-items-center","my-portflio-btn"],["routerLink","accountInfo",1,"btn","btn-success"],[1,"btn","btn-success","my-3"],["routerLink","userSetting",1,"btn","btn-success"],[1,"col-md-8","my-content-bg","rounded-3"],[1,"py-5","px-2"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"Span",5),t._uU(6),t.qZA()(),t.TgZ(7,"h2",6),t._uU(8),t.qZA(),t.TgZ(9,"div",7)(10,"button",8),t._uU(11,"Account Info"),t.qZA(),t.TgZ(12,"button",9),t._uU(13,"Payment History"),t.qZA(),t.TgZ(14,"button",10),t._uU(15,"Setting"),t.qZA()()()(),t.TgZ(16,"div",11)(17,"div",12),t._UZ(18,"router-outlet"),t.qZA()()()()),2&n&&(t.xp6(6),t.Oqu(o.myData.name.toUpperCase().charAt(0)),t.xp6(2),t.hij("Welcome ",o.myData.name.split(" ").splice(0,1).join(" "),""))},dependencies:[d.lC,d.rH],styles:[".my-profile[_ngcontent-%COMP%]{width:180px;height:180px;background:#99c498;border-radius:50%}h4[_ngcontent-%COMP%]{color:#022715cc}.my-char[_ngcontent-%COMP%]{font-size:80px}.my-portflio-bg[_ngcontent-%COMP%]{background-color:#c1ffbf65}.my-content-bg[_ngcontent-%COMP%]{background-color:#c1ffbf27}.my-portflio-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:200px}@media screen and (max-width: 480px){h4[_ngcontent-%COMP%]{font-size:14px}.my-name-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding-bottom:20px}.my-profile[_ngcontent-%COMP%]{width:150px;height:150px;background:#99c498;border-radius:50%}}"]})}return e})();var s=u(95),g=u(2425);function h(e,a){if(1&e&&(t.TgZ(0,"p",15),t._uU(1),t.qZA()),2&e){const r=t.oxw();t.xp6(1),t.Oqu(r.errorMassage)}}function w(e,a){1&e&&(t.TgZ(0,"p",18),t._uU(1,"Name is required"),t.qZA())}function I(e,a){if(1&e&&(t.TgZ(0,"div",16),t.YNc(1,w,2,0,"p",17),t.qZA()),2&e){const r=t.oxw();let n;t.xp6(1),t.Q6J("ngIf",null==(n=r.updateInfoForm.get("name"))?null:n.getError("required"))}}function Z(e,a){1&e&&(t.TgZ(0,"p",18),t._uU(1,"Enter valid Email"),t.qZA())}function U(e,a){1&e&&(t.TgZ(0,"p",18),t._uU(1,"email is required"),t.qZA())}function x(e,a){if(1&e&&(t.TgZ(0,"div",16),t.YNc(1,Z,2,0,"p",17),t.YNc(2,U,2,0,"p",17),t.qZA()),2&e){const r=t.oxw();let n,o;t.xp6(1),t.Q6J("ngIf",null==(n=r.updateInfoForm.get("email"))?null:n.getError("email")),t.xp6(1),t.Q6J("ngIf",null==(o=r.updateInfoForm.get("email"))?null:o.getError("required"))}}function P(e,a){1&e&&(t.TgZ(0,"p",18),t._uU(1,"Enter valid Egyptian phone number"),t.qZA())}function b(e,a){1&e&&(t.TgZ(0,"p",18),t._uU(1,"phone is required"),t.qZA())}function v(e,a){if(1&e&&(t.TgZ(0,"div",16),t.YNc(1,P,2,0,"p",17),t.YNc(2,b,2,0,"p",17),t.qZA()),2&e){const r=t.oxw();let n,o;t.xp6(1),t.Q6J("ngIf",null==(n=r.updateInfoForm.get("phone"))?null:n.getError("pattern")),t.xp6(1),t.Q6J("ngIf",null==(o=r.updateInfoForm.get("phone"))?null:o.getError("required"))}}function T(e,a){1&e&&(t.TgZ(0,"span"),t._uU(1,"Update Info"),t.qZA())}function y(e,a){1&e&&t._UZ(0,"i",19)}let A=(()=>{class e{constructor(r,n,o,i){this._AuthService=r,this._Router=n,this._ActivatedRoute=o,this._ToastrService=i,this.isLoding=!1,this.updateInfoForm=new s.cw({name:new s.NI(null,[s.kI.required]),email:new s.NI(null,[s.kI.required,s.kI.email]),phone:new s.NI(null,[s.kI.required,s.kI.pattern(/^01[0125][0-9]{8}/)])})}ngOnInit(){this.id=this._ActivatedRoute.snapshot.params.id}handelUpdateInfo(r){this.isLoding=!0,this._AuthService.UpdateUserInfo(r.value).subscribe({next:n=>{console.log(n),this.isLoding=!1,this._Router.navigate(["/Setting/portflio"]),this.showSuccess()},error:n=>{this.isLoding=!1,console.log(n),this.errorMassage=n.error.errors.msg}})}showSuccess(){this._ToastrService.success("Info changed successfully. ","",{timeOut:3e3,positionClass:"toast-top-center"})}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(c.e),t.Y36(d.F0),t.Y36(d.gz),t.Y36(g._W))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-user-info"]],decls:21,vars:8,consts:[[1,"container","py-5"],[1,"pb-4"],["class","alert alert-danger text-center fs-4 fw-bold",4,"ngIf"],["action","",3,"formGroup","ngSubmit"],["for","name"],["formControlName","name","type","text","id","name","placeholder","name",1,"form-control","mb-2"],["class","alert alert-danger ",4,"ngIf"],["for","email"],["formControlName","email","type","text","id","email","placeholder","email",1,"form-control","mb-2"],["for","phone"],["formControlName","phone","type","tel","id","phone","placeholder","phone",1,"form-control","mb-2"],[1,"d-flex","justify-content-between","align-items-center","py-2"],["type","submit",1,"btn","btn-success","my-1",3,"disabled"],[4,"ngIf"],["class","fa-solid fa-spinner fa-spin px-3",4,"ngIf"],[1,"alert","alert-danger","text-center","fs-4","fw-bold"],[1,"alert","alert-danger"],["class","m-0",4,"ngIf"],[1,"m-0"],[1,"fa-solid","fa-spinner","fa-spin","px-3"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2,"Update User Info : "),t.qZA(),t.YNc(3,h,2,1,"p",2),t.TgZ(4,"form",3),t.NdJ("ngSubmit",function(){return o.handelUpdateInfo(o.updateInfoForm)}),t.TgZ(5,"label",4),t._uU(6,"Name :"),t.qZA(),t._UZ(7,"input",5),t.YNc(8,I,2,1,"div",6),t.TgZ(9,"label",7),t._uU(10,"Email :"),t.qZA(),t._UZ(11,"input",8),t.YNc(12,x,3,2,"div",6),t.TgZ(13,"label",9),t._uU(14,"Phone :"),t.qZA(),t._UZ(15,"input",10),t.YNc(16,v,3,2,"div",6),t.TgZ(17,"div",11)(18,"button",12),t.YNc(19,T,2,0,"span",13),t.YNc(20,y,1,0,"i",14),t.qZA()()()()),2&n){let i,p,l;t.xp6(3),t.Q6J("ngIf",o.errorMassage),t.xp6(1),t.Q6J("formGroup",o.updateInfoForm),t.xp6(4),t.Q6J("ngIf",(null==(i=o.updateInfoForm.get("name"))?null:i.errors)&&(null==(i=o.updateInfoForm.get("name"))?null:i.touched)),t.xp6(4),t.Q6J("ngIf",(null==(p=o.updateInfoForm.get("email"))?null:p.errors)&&(null==(p=o.updateInfoForm.get("email"))?null:p.touched)),t.xp6(4),t.Q6J("ngIf",(null==(l=o.updateInfoForm.get("phone"))?null:l.errors)&&(null==(l=o.updateInfoForm.get("phone"))?null:l.touched)),t.xp6(2),t.Q6J("disabled",o.updateInfoForm.invalid),t.xp6(1),t.Q6J("ngIf",!o.isLoding),t.xp6(1),t.Q6J("ngIf",o.isLoding)}},dependencies:[m.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u]})}return e})();function C(e,a){if(1&e&&(t.TgZ(0,"p",15),t._uU(1),t.qZA()),2&e){const r=t.oxw();t.xp6(1),t.Oqu(r.errorMassage)}}function q(e,a){1&e&&(t.TgZ(0,"p",18),t._uU(1,"Password must start with uppercase then from 6 to 10 char"),t.qZA())}function F(e,a){1&e&&(t.TgZ(0,"p",18),t._uU(1,"password is required"),t.qZA())}function N(e,a){if(1&e&&(t.TgZ(0,"div",16),t.YNc(1,q,2,0,"p",17),t.YNc(2,F,2,0,"p",17),t.qZA()),2&e){const r=t.oxw();let n,o;t.xp6(1),t.Q6J("ngIf",null==(n=r.updatePasswordForm.get("currentPassword"))?null:n.getError("pattern")),t.xp6(1),t.Q6J("ngIf",null==(o=r.updatePasswordForm.get("currentPassword"))?null:o.getError("required"))}}function S(e,a){1&e&&(t.TgZ(0,"p",18),t._uU(1,"Password must start with uppercase then from 6 to 10 char"),t.qZA())}function J(e,a){1&e&&(t.TgZ(0,"p",18),t._uU(1,"password is required"),t.qZA())}function Y(e,a){if(1&e&&(t.TgZ(0,"div",16),t.YNc(1,S,2,0,"p",17),t.YNc(2,J,2,0,"p",17),t.qZA()),2&e){const r=t.oxw();let n,o;t.xp6(1),t.Q6J("ngIf",null==(n=r.updatePasswordForm.get("password"))?null:n.getError("pattern")),t.xp6(1),t.Q6J("ngIf",null==(o=r.updatePasswordForm.get("password"))?null:o.getError("required"))}}function Q(e,a){1&e&&(t.TgZ(0,"p",18),t._uU(1,"Password must start with uppercase then from 6 to 10 char"),t.qZA())}function O(e,a){1&e&&(t.TgZ(0,"p",18),t._uU(1,"password is required"),t.qZA())}function M(e,a){if(1&e&&(t.TgZ(0,"div",16),t.YNc(1,Q,2,0,"p",17),t.YNc(2,O,2,0,"p",17),t.qZA()),2&e){const r=t.oxw();let n,o;t.xp6(1),t.Q6J("ngIf",null==(n=r.updatePasswordForm.get("rePassword"))?null:n.getError("pattern")),t.xp6(1),t.Q6J("ngIf",null==(o=r.updatePasswordForm.get("rePassword"))?null:o.getError("required"))}}function L(e,a){1&e&&(t.TgZ(0,"span"),t._uU(1,"Update Password"),t.qZA())}function k(e,a){1&e&&t._UZ(0,"i",19)}let E=(()=>{class e{constructor(r,n,o){this._AuthService=r,this._Router=n,this._ToastrService=o,this.isLoding=!1,this.updatePasswordForm=new s.cw({currentPassword:new s.NI(null,[s.kI.required,s.kI.pattern(/^[A-Z][a-z0-9]{6,10}$/)]),password:new s.NI(null,[s.kI.required,s.kI.pattern(/^[A-Z][a-z0-9]{6,10}$/)]),rePassword:new s.NI(null,[s.kI.required,s.kI.pattern(/^[A-Z][a-z0-9]{6,10}$/)])})}handelUpdatePassword(r){this.isLoding=!0,this._AuthService.UpdateUserPassword(r.value).subscribe({next:n=>{console.log(n),this.isLoding=!1,this._Router.navigate(["/Setting/portflio"]),this.showSuccess()},error:n=>{this.isLoding=!1,console.log(n),this.errorMassage=n.error.message}})}showSuccess(){this._ToastrService.success("Password changed successfully. ","",{timeOut:3e3,positionClass:"toast-top-center"})}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(c.e),t.Y36(d.F0),t.Y36(g._W))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-update-password"]],decls:21,vars:8,consts:[[1,"container","py-5"],[1,"pb-4"],["class","alert alert-danger text-center fs-4 fw-bold",4,"ngIf"],["action","",3,"formGroup","ngSubmit"],["for","currentPassword"],["formControlName","currentPassword","type","text","id","currentPassword",1,"form-control","mb-2"],["class","alert alert-danger ",4,"ngIf"],["for","Password"],["formControlName","password","type","text","id","Password",1,"form-control","mb-2"],["for","rePassword"],["formControlName","rePassword","type","text","id","rePassword",1,"form-control","mb-2"],[1,"d-flex","justify-content-between","align-items-center","py-2"],["type","submit",1,"btn","btn-success","my-1",3,"disabled"],[4,"ngIf"],["class","fa-solid fa-spinner fa-spin px-3",4,"ngIf"],[1,"alert","alert-danger","text-center","fs-4","fw-bold"],[1,"alert","alert-danger"],["class","m-0",4,"ngIf"],[1,"m-0"],[1,"fa-solid","fa-spinner","fa-spin","px-3"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2,"Update User Password : "),t.qZA(),t.YNc(3,C,2,1,"p",2),t.TgZ(4,"form",3),t.NdJ("ngSubmit",function(){return o.handelUpdatePassword(o.updatePasswordForm)}),t.TgZ(5,"label",4),t._uU(6,"Current Password :"),t.qZA(),t._UZ(7,"input",5),t.YNc(8,N,3,2,"div",6),t.TgZ(9,"label",7),t._uU(10,"Password :"),t.qZA(),t._UZ(11,"input",8),t.YNc(12,Y,3,2,"div",6),t.TgZ(13,"label",9),t._uU(14,"Confirm Password :"),t.qZA(),t._UZ(15,"input",10),t.YNc(16,M,3,2,"div",6),t.TgZ(17,"div",11)(18,"button",12),t.YNc(19,L,2,0,"span",13),t.YNc(20,k,1,0,"i",14),t.qZA()()()()),2&n){let i,p,l;t.xp6(3),t.Q6J("ngIf",o.errorMassage),t.xp6(1),t.Q6J("formGroup",o.updatePasswordForm),t.xp6(4),t.Q6J("ngIf",(null==(i=o.updatePasswordForm.get("currentPassword"))?null:i.errors)&&(null==(i=o.updatePasswordForm.get("currentPassword"))?null:i.touched)),t.xp6(4),t.Q6J("ngIf",(null==(p=o.updatePasswordForm.get("password"))?null:p.errors)&&(null==(p=o.updatePasswordForm.get("password"))?null:p.touched)),t.xp6(4),t.Q6J("ngIf",(null==(l=o.updatePasswordForm.get("rePassword"))?null:l.errors)&&(null==(l=o.updatePasswordForm.get("rePassword"))?null:l.touched)),t.xp6(2),t.Q6J("disabled",o.updatePasswordForm.invalid),t.xp6(1),t.Q6J("ngIf",!o.isLoding),t.xp6(1),t.Q6J("ngIf",o.isLoding)}},dependencies:[m.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u]})}return e})();const D=function(){return["/Setting/userInfo"]},z=[{path:"",redirectTo:"portflio",pathMatch:"full"},{path:"portflio",component:_,children:[{path:"",redirectTo:"accountInfo",pathMatch:"full"},{path:"accountInfo",component:(()=>{class e{constructor(r){this._AuthService=r,this.isloadingPage=!1}ngOnInit(){this.myId=this._AuthService.userData.getValue(),this.isloadingPage=!0,this._AuthService.getUserData(this.myId.id).subscribe({next:r=>{this.myData=r.data,this.isloadingPage=!1},error:r=>{this.isloadingPage=!1}})}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(c.e))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-account-info"]],decls:13,vars:3,consts:[[1,"py-5"],[1,"fw-bolder"],[1,"my-4"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"h4")(2,"span",1),t._uU(3,"Name : "),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"h4",2)(6,"span",1),t._uU(7,"Email : "),t.qZA(),t._uU(8),t.qZA(),t.TgZ(9,"h4")(10,"span",1),t._uU(11,"Phone : "),t.qZA(),t._uU(12),t.qZA()()),2&n&&(t.xp6(4),t.Oqu(o.myData.name),t.xp6(4),t.Oqu(o.myData.email),t.xp6(4),t.Oqu(o.myData.phone))},styles:["@media screen and (max-width: 480px){h4[_ngcontent-%COMP%]{font-size:13px}}"]})}return e})()},{path:"userSetting",component:(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-user-setting"]],decls:5,vars:2,consts:[[1,"d-flex","flex-column","py-5","px-0"],[1,"btn","btn-outline-success","my-3",3,"routerLink"],["routerLink","/Setting/updatePassword",1,"btn","btn-outline-success"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"button",1),t._uU(2,"Change Info"),t.qZA(),t.TgZ(3,"button",2),t._uU(4,"Change Passward"),t.qZA()()),2&n&&(t.xp6(1),t.Q6J("routerLink",t.DdM(1,D)))},dependencies:[d.rH]})}return e})()}]},{path:"userInfo",component:A},{path:"updatePassword",component:E}];let R=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(z),d.Bz]})}return e})(),X=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[m.ez,R,s.UX]})}return e})()}}]);